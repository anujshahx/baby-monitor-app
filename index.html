<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Baby Monitor V2</title>
    <script src="https://cdn.jsdelivr.net/npm/qrcodejs@1.0.0/qrcode.min.js"></script>
    <script src="https://unpkg.com/html5-qrcode@2.3.8/html5-qrcode.min.js"></script>
    <style>
        /* Basic styles for the app */
        body { font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif; margin: 0; background-color: #f0f2f5; display: flex; justify-content: center; align-items: center; height: 100vh; }
        .container { text-align: center; background: white; padding: 2rem; border-radius: 12px; box-shadow: 0 4px 12px rgba(0,0,0,0.1); max-width: 90%; width: 400px; }
        video { width: 100%; max-height: 70vh; background-color: #000; border-radius: 8px; margin-top: 1rem; }
        button { font-size: 1rem; padding: 0.8rem 1.2rem; border-radius: 8px; border: none; cursor: pointer; margin: 0.5rem; transition: background-color 0.2s; }
        .primary { background-color: #007aff; color: white; }
        .secondary { background-color: #34c759; color: white; }
        #qr-code { margin: 1rem auto; }
        #qr-scanner { width: 100%; border-radius: 8px; margin-top: 1rem; }
    </style>
</head>
<body>
    <div class="container" id="home-screen">
        <h1>Baby Monitor</h1>
        <button id="start-camera" class="primary">Start as Camera</button>
        <button id="start-monitor" class="secondary">Start as Monitor</button>
    </div>

    <div class="container" id="camera-screen" style="display:none;">
        <h1>Camera Mode</h1>
        <p>Scan this QR code with the monitor device:</p>
        <div id="qr-code"></div>
        <video id="local-video" autoplay muted playsinline></video>
        <button id="stop-camera" class="primary">Stop</button>
    </div>

    <div class="container" id="monitor-screen" style="display:none;">
        <h1>Monitor Mode</h1>
        <div id="qr-scanner" style="display:none;"></div>
        <button id="scan-qr" class="secondary">Scan QR Code</button>
        <video id="remote-video" autoplay playsinline></video>
        <button id="disconnect" class="secondary" style="display:none;">Disconnect</button>
    </div>

    <script src="script.js"></script>
</body>
</html>
